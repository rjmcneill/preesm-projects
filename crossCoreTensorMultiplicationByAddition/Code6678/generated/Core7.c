/** 
 * @file Core7.c
 * @generated by C6678CPrinter
 * @date Tue Mar 31 21:38:20 BST 2015
 */
 

#include "cores.h"
#include "utils.h"
#include "communication.h"
#include "fifo.h"
#include "cache.h"

// Core Global Declaration
extern char *const generateTensors__explode_gen__1;  // generateTensors > explode_generateTensors_arrayA size:= 8388608*char defined in Core0
extern int *const arrayA_0__input__0;  // explode_generateTensors_arrayA_arrayA_0 > transposeTensor_0_input size:= 262144*int defined in Core0
extern int *const arrayA_262144__input__0;  // explode_generateTensors_arrayA_arrayA_262144 > transposeTensor_1_input size:= 262144*int defined in Core0
extern int *const arrayA_524288__input__0;  // explode_generateTensors_arrayA_arrayA_524288 > transposeTensor_2_input size:= 262144*int defined in Core0
extern int *const arrayA_786432__input__0;  // explode_generateTensors_arrayA_arrayA_786432 > transposeTensor_3_input size:= 262144*int defined in Core0
extern int *const arrayA_1048576__input__0;  // explode_generateTensors_arrayA_arrayA_1048576 > transposeTensor_4_input size:= 262144*int defined in Core0
extern int *const arrayA_1310720__input__0;  // explode_generateTensors_arrayA_arrayA_1310720 > transposeTensor_5_input size:= 262144*int defined in Core0
extern int *const arrayA_1572864__input__0;  // explode_generateTensors_arrayA_arrayA_1572864 > transposeTensor_6_input size:= 262144*int defined in Core0
extern int *const arrayA_1835008__input__0;  // explode_generateTensors_arrayA_arrayA_1835008 > transposeTensor_7_input size:= 262144*int defined in Core0
extern int *const arrayA__input__0;  // generateTensors_arrayA > explode_generateTensors_arrayA_input size:= 2097152*int defined in Core0
extern char *const explode_generateTensors_arra__39;  // explode_generateTensors_arrayA > transposeTensor_7 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__36;  // explode_generateTensors_arrayA > transposeTensor_6 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__48;  // explode_generateTensors_arrayA > transposeTensor_5 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__54;  // explode_generateTensors_arrayA > transposeTensor_4 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__15;  // explode_generateTensors_arrayA > transposeTensor_2 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__41;  // explode_generateTensors_arrayA > transposeTensor_1 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__6;  // explode_generateTensors_arrayA > transposeTensor_0 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__31;  // explode_generateTensors_arrayB > multiplyTensors_26 size:= 131072*char defined in Core0
extern int *const output__arrayA__3;  // transposeTensor_3_output > explode_transposeTensor_3_output_arrayA size:= 262144*int defined in Core0
extern int *const output_0__arrayA__6;  // explode_transposeTensor_3_output_output_0 > multiplyTensors_24_arrayA size:= 32768*int defined in Core0
extern int *const output_32768__arrayA__3;  // explode_transposeTensor_3_output_output_32768 > multiplyTensors_25_arrayA size:= 32768*int defined in Core0
extern int *const output_65536__arrayA__5;  // explode_transposeTensor_3_output_output_65536 > multiplyTensors_26_arrayA size:= 32768*int defined in Core0
extern int *const output_98304__arrayA__4;  // explode_transposeTensor_3_output_output_98304 > multiplyTensors_27_arrayA size:= 32768*int defined in Core0
extern int *const output_131072__arrayA__0;  // explode_transposeTensor_3_output_output_131072 > multiplyTensors_28_arrayA size:= 32768*int defined in Core0
extern int *const output_163840__arrayA__5;  // explode_transposeTensor_3_output_output_163840 > multiplyTensors_29_arrayA size:= 32768*int defined in Core0
extern int *const output_196608__arrayA__5;  // explode_transposeTensor_3_output_output_196608 > multiplyTensors_30_arrayA size:= 32768*int defined in Core0
extern int *const output_229376__arrayA__2;  // explode_transposeTensor_3_output_output_229376 > multiplyTensors_31_arrayA size:= 32768*int defined in Core0
extern char *const explode_transposeTensor_3_ou__0;  // explode_transposeTensor_3_output > multiplyTensors_31 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__7;  // explode_transposeTensor_3_output > multiplyTensors_30 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__4;  // explode_transposeTensor_3_output > multiplyTensors_29 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__1;  // explode_transposeTensor_3_output > multiplyTensors_28 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__3;  // explode_transposeTensor_3_output > multiplyTensors_27 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__2;  // explode_transposeTensor_3_output > multiplyTensors_25 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__6;  // explode_transposeTensor_3_output > multiplyTensors_24 size:= 131072*char defined in Core0
extern char *const multiplyTensors_24__implode___0;  // multiplyTensors_24 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_25__implode___0;  // multiplyTensors_25 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern int *const arrayB_851968__arrayB__0;  // explode_generateTensors_arrayB_arrayB_851968 > multiplyTensors_26_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_524288__5;  // multiplyTensors_26_arrayC > implode_sumResults_3_input_input_524288 size:= 262144*long defined in Core0
extern char *const multiplyTensors_27__implode___0;  // multiplyTensors_27 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_28__implode___0;  // multiplyTensors_28 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_29__implode___0;  // multiplyTensors_29 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_30__implode___0;  // multiplyTensors_30 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_31__implode___0;  // multiplyTensors_31 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern long *const arrayC__input_0__6;  // multiplyTensors_24_arrayC > implode_sumResults_3_input_input_0 size:= 262144*long defined in Core0
extern long *const arrayC__input_262144__5;  // multiplyTensors_25_arrayC > implode_sumResults_3_input_input_262144 size:= 262144*long defined in Core0
extern long *const arrayC__input_786432__2;  // multiplyTensors_27_arrayC > implode_sumResults_3_input_input_786432 size:= 262144*long defined in Core0
extern long *const arrayC__input_1048576__6;  // multiplyTensors_28_arrayC > implode_sumResults_3_input_input_1048576 size:= 262144*long defined in Core0
extern long *const arrayC__input_1310720__5;  // multiplyTensors_29_arrayC > implode_sumResults_3_input_input_1310720 size:= 262144*long defined in Core0
extern long *const arrayC__input_1572864__2;  // multiplyTensors_30_arrayC > implode_sumResults_3_input_input_1572864 size:= 262144*long defined in Core0
extern long *const arrayC__input_1835008__4;  // multiplyTensors_31_arrayC > implode_sumResults_3_input_input_1835008 size:= 262144*long defined in Core0
extern long *const arrayC__input__5;  // implode_sumResults_3_input_arrayC > sumResults_3_input size:= 2097152*long defined in Core0
extern long *const output__arrayC_786432__0;  // sumResults_3_output > implode_displayTensor_arrayC_arrayC_786432 size:= 262144*long defined in Core0
extern char *const sumResults_3__implode_displa__0;  // sumResults_3 > implode_displayTensor_arrayC size:= 1048576*char defined in Core0

// Core Global Definitions

void core7(void){
	// Initialisation(s)
	communicationInit();

	// Begin the execution loop 
	while(1){
		busy_barrier();
		receiveStart(); // Core0 > Core7: generateTensors__explode_gen__1 
		receiveEnd(0); // Core0 > Core7: generateTensors__explode_gen__1 
		cache_inv(generateTensors__explode_gen__1, 8388608*sizeof(char));
		// Fork explode_generateTensors_arrayA
		{
			memcpy((void*)(arrayA_0__input__0+0),(void*)( arrayA__input__0+0), 262144*sizeof(int));
			memcpy((void*)(arrayA_262144__input__0+0),(void*)( arrayA__input__0+262144), 262144*sizeof(int));
			memcpy((void*)(arrayA_524288__input__0+0),(void*)( arrayA__input__0+524288), 262144*sizeof(int));
			memcpy((void*)(arrayA_786432__input__0+0),(void*)( arrayA__input__0+786432), 262144*sizeof(int));
			memcpy((void*)(arrayA_1048576__input__0+0),(void*)( arrayA__input__0+1048576), 262144*sizeof(int));
			memcpy((void*)(arrayA_1310720__input__0+0),(void*)( arrayA__input__0+1310720), 262144*sizeof(int));
			memcpy((void*)(arrayA_1572864__input__0+0),(void*)( arrayA__input__0+1572864), 262144*sizeof(int));
			memcpy((void*)(arrayA_1835008__input__0+0),(void*)( arrayA__input__0+1835008), 262144*sizeof(int));
		}
		cache_inv(arrayA__input__0, 2097152*sizeof(int));
		cache_wbInv(explode_generateTensors_arra__39, 1048576*sizeof(char));
		sendStart(0); // Core7 > Core0: explode_generateTensors_arra__39 
		sendEnd(); // Core7 > Core0: explode_generateTensors_arra__39 
		cache_wbInv(explode_generateTensors_arra__36, 1048576*sizeof(char));
		sendStart(2); // Core7 > Core2: explode_generateTensors_arra__36 
		sendEnd(); // Core7 > Core2: explode_generateTensors_arra__36 
		cache_wbInv(explode_generateTensors_arra__48, 1048576*sizeof(char));
		sendStart(1); // Core7 > Core1: explode_generateTensors_arra__48 
		sendEnd(); // Core7 > Core1: explode_generateTensors_arra__48 
		cache_wbInv(explode_generateTensors_arra__54, 1048576*sizeof(char));
		sendStart(0); // Core7 > Core0: explode_generateTensors_arra__54 
		sendEnd(); // Core7 > Core0: explode_generateTensors_arra__54 
		cache_wbInv(explode_generateTensors_arra__15, 1048576*sizeof(char));
		sendStart(0); // Core7 > Core0: explode_generateTensors_arra__15 
		sendEnd(); // Core7 > Core0: explode_generateTensors_arra__15 
		cache_wbInv(explode_generateTensors_arra__41, 1048576*sizeof(char));
		sendStart(3); // Core7 > Core3: explode_generateTensors_arra__41 
		sendEnd(); // Core7 > Core3: explode_generateTensors_arra__41 
		cache_wbInv(explode_generateTensors_arra__6, 1048576*sizeof(char));
		sendStart(2); // Core7 > Core2: explode_generateTensors_arra__6 
		sendEnd(); // Core7 > Core2: explode_generateTensors_arra__6 
		receiveStart(); // Core0 > Core7: explode_generateTensors_arra__31 
		receiveEnd(0); // Core0 > Core7: explode_generateTensors_arra__31 
		cache_inv(explode_generateTensors_arra__31, 131072*sizeof(char));
		transpose(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,arrayA_786432__input__0,output__arrayA__3); // transposeTensor_3
		cache_inv(arrayA_786432__input__0, 262144*sizeof(int));
		// Fork explode_transposeTensor_3_output
		{
			memcpy((void*)(output_0__arrayA__6+0),(void*)( output__arrayA__3+0), 32768*sizeof(int));
			memcpy((void*)(output_32768__arrayA__3+0),(void*)( output__arrayA__3+32768), 32768*sizeof(int));
			memcpy((void*)(output_65536__arrayA__5+0),(void*)( output__arrayA__3+65536), 32768*sizeof(int));
			memcpy((void*)(output_98304__arrayA__4+0),(void*)( output__arrayA__3+98304), 32768*sizeof(int));
			memcpy((void*)(output_131072__arrayA__0+0),(void*)( output__arrayA__3+131072), 32768*sizeof(int));
			memcpy((void*)(output_163840__arrayA__5+0),(void*)( output__arrayA__3+163840), 32768*sizeof(int));
			memcpy((void*)(output_196608__arrayA__5+0),(void*)( output__arrayA__3+196608), 32768*sizeof(int));
			memcpy((void*)(output_229376__arrayA__2+0),(void*)( output__arrayA__3+229376), 32768*sizeof(int));
		}
		cache_inv(output__arrayA__3, 262144*sizeof(int));
		cache_wbInv(explode_transposeTensor_3_ou__0, 131072*sizeof(char));
		sendStart(0); // Core7 > Core0: explode_transposeTensor_3_ou__0 
		sendEnd(); // Core7 > Core0: explode_transposeTensor_3_ou__0 
		cache_wbInv(explode_transposeTensor_3_ou__7, 131072*sizeof(char));
		sendStart(2); // Core7 > Core2: explode_transposeTensor_3_ou__7 
		sendEnd(); // Core7 > Core2: explode_transposeTensor_3_ou__7 
		cache_wbInv(explode_transposeTensor_3_ou__4, 131072*sizeof(char));
		sendStart(4); // Core7 > Core4: explode_transposeTensor_3_ou__4 
		sendEnd(); // Core7 > Core4: explode_transposeTensor_3_ou__4 
		cache_wbInv(explode_transposeTensor_3_ou__1, 131072*sizeof(char));
		sendStart(1); // Core7 > Core1: explode_transposeTensor_3_ou__1 
		sendEnd(); // Core7 > Core1: explode_transposeTensor_3_ou__1 
		cache_wbInv(explode_transposeTensor_3_ou__3, 131072*sizeof(char));
		sendStart(3); // Core7 > Core3: explode_transposeTensor_3_ou__3 
		sendEnd(); // Core7 > Core3: explode_transposeTensor_3_ou__3 
		cache_wbInv(explode_transposeTensor_3_ou__2, 131072*sizeof(char));
		sendStart(5); // Core7 > Core5: explode_transposeTensor_3_ou__2 
		sendEnd(); // Core7 > Core5: explode_transposeTensor_3_ou__2 
		cache_wbInv(explode_transposeTensor_3_ou__6, 131072*sizeof(char));
		sendStart(6); // Core7 > Core6: explode_transposeTensor_3_ou__6 
		sendEnd(); // Core7 > Core6: explode_transposeTensor_3_ou__6 
		receiveStart(); // Core6 > Core7: multiplyTensors_24__implode___0 
		receiveEnd(6); // Core6 > Core7: multiplyTensors_24__implode___0 
		cache_inv(multiplyTensors_24__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core5 > Core7: multiplyTensors_25__implode___0 
		receiveEnd(5); // Core5 > Core7: multiplyTensors_25__implode___0 
		cache_inv(multiplyTensors_25__implode___0, 1048576*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_65536__arrayA__5,arrayB_851968__arrayB__0,arrayC__input_524288__5); // multiplyTensors_26
		cache_inv(output_65536__arrayA__5, 32768*sizeof(int));
		cache_inv(arrayB_851968__arrayB__0, 32768*sizeof(int));
		receiveStart(); // Core3 > Core7: multiplyTensors_27__implode___0 
		receiveEnd(3); // Core3 > Core7: multiplyTensors_27__implode___0 
		cache_inv(multiplyTensors_27__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core1 > Core7: multiplyTensors_28__implode___0 
		receiveEnd(1); // Core1 > Core7: multiplyTensors_28__implode___0 
		cache_inv(multiplyTensors_28__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core4 > Core7: multiplyTensors_29__implode___0 
		receiveEnd(4); // Core4 > Core7: multiplyTensors_29__implode___0 
		cache_inv(multiplyTensors_29__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core2 > Core7: multiplyTensors_30__implode___0 
		receiveEnd(2); // Core2 > Core7: multiplyTensors_30__implode___0 
		cache_inv(multiplyTensors_30__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core0 > Core7: multiplyTensors_31__implode___0 
		receiveEnd(0); // Core0 > Core7: multiplyTensors_31__implode___0 
		cache_inv(multiplyTensors_31__implode___0, 1048576*sizeof(char));
		// Join implode_sumResults_3_input
		{
			memcpy((void*)(arrayC__input__5+0),(void*)( arrayC__input_0__6+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+262144),(void*)( arrayC__input_262144__5+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+524288),(void*)( arrayC__input_524288__5+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+786432),(void*)( arrayC__input_786432__2+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+1048576),(void*)( arrayC__input_1048576__6+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+1310720),(void*)( arrayC__input_1310720__5+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+1572864),(void*)( arrayC__input_1572864__2+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__5+1835008),(void*)( arrayC__input_1835008__4+0), 262144*sizeof(long));
		}
		cache_inv(arrayC__input_0__6, 262144*sizeof(long));
		cache_inv(arrayC__input_262144__5, 262144*sizeof(long));
		cache_inv(arrayC__input_524288__5, 262144*sizeof(long));
		cache_inv(arrayC__input_786432__2, 262144*sizeof(long));
		cache_inv(arrayC__input_1048576__6, 262144*sizeof(long));
		cache_inv(arrayC__input_1310720__5, 262144*sizeof(long));
		cache_inv(arrayC__input_1572864__2, 262144*sizeof(long));
		cache_inv(arrayC__input_1835008__4, 262144*sizeof(long));
		sum(512/*rowsA*/,512/*columnsB*/,8/*depthA*/,arrayC__input__5,output__arrayC_786432__0); // sumResults_3
		cache_inv(arrayC__input__5, 2097152*sizeof(long));
		cache_wbInv(sumResults_3__implode_displa__0, 1048576*sizeof(char));
		sendStart(6); // Core7 > Core6: sumResults_3__implode_displa__0 
		sendEnd(); // Core7 > Core6: sumResults_3__implode_displa__0 
	}
}
