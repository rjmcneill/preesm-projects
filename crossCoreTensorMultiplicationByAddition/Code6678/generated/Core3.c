/** 
 * @file Core3.c
 * @generated by C6678CPrinter
 * @date Tue Mar 31 21:38:20 BST 2015
 */
 

#include "cores.h"
#include "utils.h"
#include "communication.h"
#include "fifo.h"
#include "cache.h"

// Core Global Declaration
extern char *const explode_generateTensors_arra__41;  // explode_generateTensors_arrayA > transposeTensor_1 size:= 1048576*char defined in Core0
extern char *const explode_generateTensors_arra__19;  // explode_generateTensors_arrayB > multiplyTensors_51 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__51;  // explode_generateTensors_arrayB > multiplyTensors_27 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__59;  // explode_generateTensors_arrayB > multiplyTensors_23 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__0;  // explode_generateTensors_arrayB > multiplyTensors_15 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__66;  // explode_generateTensors_arrayB > multiplyTensors_14 size:= 131072*char defined in Core0
extern int *const arrayA_262144__input__0;  // explode_generateTensors_arrayA_arrayA_262144 > transposeTensor_1_input size:= 262144*int defined in Core0
extern int *const output__arrayA__2;  // transposeTensor_1_output > explode_transposeTensor_1_output_arrayA size:= 262144*int defined in Core0
extern int *const output_0__arrayA__7;  // explode_transposeTensor_1_output_output_0 > multiplyTensors_8_arrayA size:= 32768*int defined in Core0
extern int *const output_32768__arrayA__0;  // explode_transposeTensor_1_output_output_32768 > multiplyTensors_9_arrayA size:= 32768*int defined in Core0
extern int *const output_65536__arrayA__3;  // explode_transposeTensor_1_output_output_65536 > multiplyTensors_10_arrayA size:= 32768*int defined in Core0
extern int *const output_98304__arrayA__0;  // explode_transposeTensor_1_output_output_98304 > multiplyTensors_11_arrayA size:= 32768*int defined in Core0
extern int *const output_131072__arrayA__6;  // explode_transposeTensor_1_output_output_131072 > multiplyTensors_12_arrayA size:= 32768*int defined in Core0
extern int *const output_163840__arrayA__1;  // explode_transposeTensor_1_output_output_163840 > multiplyTensors_13_arrayA size:= 32768*int defined in Core0
extern int *const output_196608__arrayA__6;  // explode_transposeTensor_1_output_output_196608 > multiplyTensors_14_arrayA size:= 32768*int defined in Core0
extern int *const output_229376__arrayA__0;  // explode_transposeTensor_1_output_output_229376 > multiplyTensors_15_arrayA size:= 32768*int defined in Core0
extern char *const explode_transposeTensor_1_ou__2;  // explode_transposeTensor_1_output > multiplyTensors_13 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_1_ou__7;  // explode_transposeTensor_1_output > multiplyTensors_12 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_1_ou__1;  // explode_transposeTensor_1_output > multiplyTensors_11 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_1_ou__4;  // explode_transposeTensor_1_output > multiplyTensors_10 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_1_ou__3;  // explode_transposeTensor_1_output > multiplyTensors_9 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_1_ou__6;  // explode_transposeTensor_1_output > multiplyTensors_8 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_2_ou__0;  // explode_transposeTensor_2_output > multiplyTensors_23 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_3_ou__3;  // explode_transposeTensor_3_output > multiplyTensors_27 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_6_ou__2;  // explode_transposeTensor_6_output > multiplyTensors_51 size:= 131072*char defined in Core0
extern int *const arrayB_458752__arrayB__0;  // explode_generateTensors_arrayB_arrayB_458752 > multiplyTensors_14_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_1572864__1;  // multiplyTensors_14_arrayC > implode_sumResults_1_input_input_1572864 size:= 262144*long defined in Core0
extern char *const multiplyTensors_14__implode___0;  // multiplyTensors_14 > implode_sumResults_1_input size:= 1048576*char defined in Core0
extern int *const arrayB_491520__arrayB__0;  // explode_generateTensors_arrayB_arrayB_491520 > multiplyTensors_15_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_1835008__7;  // multiplyTensors_15_arrayC > implode_sumResults_1_input_input_1835008 size:= 262144*long defined in Core0
extern char *const multiplyTensors_15__implode___0;  // multiplyTensors_15 > implode_sumResults_1_input size:= 1048576*char defined in Core0
extern int *const output_229376__arrayA__4;  // explode_transposeTensor_2_output_output_229376 > multiplyTensors_23_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_753664__arrayB__0;  // explode_generateTensors_arrayB_arrayB_753664 > multiplyTensors_23_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_1835008__5;  // multiplyTensors_23_arrayC > implode_sumResults_2_input_input_1835008 size:= 262144*long defined in Core0
extern char *const multiplyTensors_23__implode___0;  // multiplyTensors_23 > implode_sumResults_2_input size:= 1048576*char defined in Core0
extern int *const output_98304__arrayA__4;  // explode_transposeTensor_3_output_output_98304 > multiplyTensors_27_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_884736__arrayB__0;  // explode_generateTensors_arrayB_arrayB_884736 > multiplyTensors_27_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_786432__2;  // multiplyTensors_27_arrayC > implode_sumResults_3_input_input_786432 size:= 262144*long defined in Core0
extern char *const multiplyTensors_27__implode___0;  // multiplyTensors_27 > implode_sumResults_3_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_48__implode___0;  // multiplyTensors_48 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_49__implode___0;  // multiplyTensors_49 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_50__implode___0;  // multiplyTensors_50 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern int *const output_98304__arrayA__3;  // explode_transposeTensor_6_output_output_98304 > multiplyTensors_51_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_1671168__arrayB__0;  // explode_generateTensors_arrayB_arrayB_1671168 > multiplyTensors_51_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_786432__6;  // multiplyTensors_51_arrayC > implode_sumResults_6_input_input_786432 size:= 262144*long defined in Core0
extern char *const multiplyTensors_52__implode___0;  // multiplyTensors_52 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_53__implode___0;  // multiplyTensors_53 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_54__implode___0;  // multiplyTensors_54 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_55__implode___0;  // multiplyTensors_55 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern long *const arrayC__input_0__5;  // multiplyTensors_48_arrayC > implode_sumResults_6_input_input_0 size:= 262144*long defined in Core0
extern long *const arrayC__input_262144__7;  // multiplyTensors_49_arrayC > implode_sumResults_6_input_input_262144 size:= 262144*long defined in Core0
extern long *const arrayC__input_524288__1;  // multiplyTensors_50_arrayC > implode_sumResults_6_input_input_524288 size:= 262144*long defined in Core0
extern long *const arrayC__input_1048576__3;  // multiplyTensors_52_arrayC > implode_sumResults_6_input_input_1048576 size:= 262144*long defined in Core0
extern long *const arrayC__input_1310720__2;  // multiplyTensors_53_arrayC > implode_sumResults_6_input_input_1310720 size:= 262144*long defined in Core0
extern long *const arrayC__input_1572864__3;  // multiplyTensors_54_arrayC > implode_sumResults_6_input_input_1572864 size:= 262144*long defined in Core0
extern long *const arrayC__input_1835008__3;  // multiplyTensors_55_arrayC > implode_sumResults_6_input_input_1835008 size:= 262144*long defined in Core0
extern long *const arrayC__input__7;  // implode_sumResults_6_input_arrayC > sumResults_6_input size:= 2097152*long defined in Core0
extern long *const output__arrayC_1572864__0;  // sumResults_6_output > implode_displayTensor_arrayC_arrayC_1572864 size:= 262144*long defined in Core0
extern char *const sumResults_6__implode_displa__0;  // sumResults_6 > implode_displayTensor_arrayC size:= 1048576*char defined in Core0

// Core Global Definitions

void core3(void){
	// Initialisation(s)
	communicationInit();

	// Begin the execution loop 
	while(1){
		busy_barrier();
		receiveStart(); // Core7 > Core3: explode_generateTensors_arra__41 
		receiveEnd(7); // Core7 > Core3: explode_generateTensors_arra__41 
		cache_inv(explode_generateTensors_arra__41, 1048576*sizeof(char));
		receiveStart(); // Core0 > Core3: explode_generateTensors_arra__19 
		receiveEnd(0); // Core0 > Core3: explode_generateTensors_arra__19 
		cache_inv(explode_generateTensors_arra__19, 131072*sizeof(char));
		receiveStart(); // Core0 > Core3: explode_generateTensors_arra__51 
		receiveEnd(0); // Core0 > Core3: explode_generateTensors_arra__51 
		cache_inv(explode_generateTensors_arra__51, 131072*sizeof(char));
		receiveStart(); // Core0 > Core3: explode_generateTensors_arra__59 
		receiveEnd(0); // Core0 > Core3: explode_generateTensors_arra__59 
		cache_inv(explode_generateTensors_arra__59, 131072*sizeof(char));
		receiveStart(); // Core0 > Core3: explode_generateTensors_arra__0 
		receiveEnd(0); // Core0 > Core3: explode_generateTensors_arra__0 
		cache_inv(explode_generateTensors_arra__0, 131072*sizeof(char));
		receiveStart(); // Core0 > Core3: explode_generateTensors_arra__66 
		receiveEnd(0); // Core0 > Core3: explode_generateTensors_arra__66 
		cache_inv(explode_generateTensors_arra__66, 131072*sizeof(char));
		transpose(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,arrayA_262144__input__0,output__arrayA__2); // transposeTensor_1
		cache_inv(arrayA_262144__input__0, 262144*sizeof(int));
		// Fork explode_transposeTensor_1_output
		{
			memcpy((void*)(output_0__arrayA__7+0),(void*)( output__arrayA__2+0), 32768*sizeof(int));
			memcpy((void*)(output_32768__arrayA__0+0),(void*)( output__arrayA__2+32768), 32768*sizeof(int));
			memcpy((void*)(output_65536__arrayA__3+0),(void*)( output__arrayA__2+65536), 32768*sizeof(int));
			memcpy((void*)(output_98304__arrayA__0+0),(void*)( output__arrayA__2+98304), 32768*sizeof(int));
			memcpy((void*)(output_131072__arrayA__6+0),(void*)( output__arrayA__2+131072), 32768*sizeof(int));
			memcpy((void*)(output_163840__arrayA__1+0),(void*)( output__arrayA__2+163840), 32768*sizeof(int));
			memcpy((void*)(output_196608__arrayA__6+0),(void*)( output__arrayA__2+196608), 32768*sizeof(int));
			memcpy((void*)(output_229376__arrayA__0+0),(void*)( output__arrayA__2+229376), 32768*sizeof(int));
		}
		cache_inv(output__arrayA__2, 262144*sizeof(int));
		cache_wbInv(explode_transposeTensor_1_ou__2, 131072*sizeof(char));
		sendStart(1); // Core3 > Core1: explode_transposeTensor_1_ou__2 
		sendEnd(); // Core3 > Core1: explode_transposeTensor_1_ou__2 
		cache_wbInv(explode_transposeTensor_1_ou__7, 131072*sizeof(char));
		sendStart(2); // Core3 > Core2: explode_transposeTensor_1_ou__7 
		sendEnd(); // Core3 > Core2: explode_transposeTensor_1_ou__7 
		cache_wbInv(explode_transposeTensor_1_ou__1, 131072*sizeof(char));
		sendStart(6); // Core3 > Core6: explode_transposeTensor_1_ou__1 
		sendEnd(); // Core3 > Core6: explode_transposeTensor_1_ou__1 
		cache_wbInv(explode_transposeTensor_1_ou__4, 131072*sizeof(char));
		sendStart(5); // Core3 > Core5: explode_transposeTensor_1_ou__4 
		sendEnd(); // Core3 > Core5: explode_transposeTensor_1_ou__4 
		cache_wbInv(explode_transposeTensor_1_ou__3, 131072*sizeof(char));
		sendStart(0); // Core3 > Core0: explode_transposeTensor_1_ou__3 
		sendEnd(); // Core3 > Core0: explode_transposeTensor_1_ou__3 
		cache_wbInv(explode_transposeTensor_1_ou__6, 131072*sizeof(char));
		sendStart(6); // Core3 > Core6: explode_transposeTensor_1_ou__6 
		sendEnd(); // Core3 > Core6: explode_transposeTensor_1_ou__6 
		receiveStart(); // Core0 > Core3: explode_transposeTensor_2_ou__0 
		receiveEnd(0); // Core0 > Core3: explode_transposeTensor_2_ou__0 
		cache_inv(explode_transposeTensor_2_ou__0, 131072*sizeof(char));
		receiveStart(); // Core7 > Core3: explode_transposeTensor_3_ou__3 
		receiveEnd(7); // Core7 > Core3: explode_transposeTensor_3_ou__3 
		cache_inv(explode_transposeTensor_3_ou__3, 131072*sizeof(char));
		receiveStart(); // Core5 > Core3: explode_transposeTensor_6_ou__2 
		receiveEnd(5); // Core5 > Core3: explode_transposeTensor_6_ou__2 
		cache_inv(explode_transposeTensor_6_ou__2, 131072*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_196608__arrayA__6,arrayB_458752__arrayB__0,arrayC__input_1572864__1); // multiplyTensors_14
		cache_inv(output_196608__arrayA__6, 32768*sizeof(int));
		cache_inv(arrayB_458752__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_14__implode___0, 1048576*sizeof(char));
		sendStart(6); // Core3 > Core6: multiplyTensors_14__implode___0 
		sendEnd(); // Core3 > Core6: multiplyTensors_14__implode___0 
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_229376__arrayA__0,arrayB_491520__arrayB__0,arrayC__input_1835008__7); // multiplyTensors_15
		cache_inv(output_229376__arrayA__0, 32768*sizeof(int));
		cache_inv(arrayB_491520__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_15__implode___0, 1048576*sizeof(char));
		sendStart(6); // Core3 > Core6: multiplyTensors_15__implode___0 
		sendEnd(); // Core3 > Core6: multiplyTensors_15__implode___0 
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_229376__arrayA__4,arrayB_753664__arrayB__0,arrayC__input_1835008__5); // multiplyTensors_23
		cache_inv(output_229376__arrayA__4, 32768*sizeof(int));
		cache_inv(arrayB_753664__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_23__implode___0, 1048576*sizeof(char));
		sendStart(4); // Core3 > Core4: multiplyTensors_23__implode___0 
		sendEnd(); // Core3 > Core4: multiplyTensors_23__implode___0 
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_98304__arrayA__4,arrayB_884736__arrayB__0,arrayC__input_786432__2); // multiplyTensors_27
		cache_inv(output_98304__arrayA__4, 32768*sizeof(int));
		cache_inv(arrayB_884736__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_27__implode___0, 1048576*sizeof(char));
		sendStart(7); // Core3 > Core7: multiplyTensors_27__implode___0 
		sendEnd(); // Core3 > Core7: multiplyTensors_27__implode___0 
		receiveStart(); // Core2 > Core3: multiplyTensors_48__implode___0 
		receiveEnd(2); // Core2 > Core3: multiplyTensors_48__implode___0 
		cache_inv(multiplyTensors_48__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core5 > Core3: multiplyTensors_49__implode___0 
		receiveEnd(5); // Core5 > Core3: multiplyTensors_49__implode___0 
		cache_inv(multiplyTensors_49__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core1 > Core3: multiplyTensors_50__implode___0 
		receiveEnd(1); // Core1 > Core3: multiplyTensors_50__implode___0 
		cache_inv(multiplyTensors_50__implode___0, 1048576*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_98304__arrayA__3,arrayB_1671168__arrayB__0,arrayC__input_786432__6); // multiplyTensors_51
		cache_inv(output_98304__arrayA__3, 32768*sizeof(int));
		cache_inv(arrayB_1671168__arrayB__0, 32768*sizeof(int));
		receiveStart(); // Core0 > Core3: multiplyTensors_52__implode___0 
		receiveEnd(0); // Core0 > Core3: multiplyTensors_52__implode___0 
		cache_inv(multiplyTensors_52__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core2 > Core3: multiplyTensors_53__implode___0 
		receiveEnd(2); // Core2 > Core3: multiplyTensors_53__implode___0 
		cache_inv(multiplyTensors_53__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core5 > Core3: multiplyTensors_54__implode___0 
		receiveEnd(5); // Core5 > Core3: multiplyTensors_54__implode___0 
		cache_inv(multiplyTensors_54__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core1 > Core3: multiplyTensors_55__implode___0 
		receiveEnd(1); // Core1 > Core3: multiplyTensors_55__implode___0 
		cache_inv(multiplyTensors_55__implode___0, 1048576*sizeof(char));
		// Join implode_sumResults_6_input
		{
			memcpy((void*)(arrayC__input__7+0),(void*)( arrayC__input_0__5+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+262144),(void*)( arrayC__input_262144__7+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+524288),(void*)( arrayC__input_524288__1+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+786432),(void*)( arrayC__input_786432__6+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1048576),(void*)( arrayC__input_1048576__3+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1310720),(void*)( arrayC__input_1310720__2+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1572864),(void*)( arrayC__input_1572864__3+0), 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1835008),(void*)( arrayC__input_1835008__3+0), 262144*sizeof(long));
		}
		cache_inv(arrayC__input_0__5, 262144*sizeof(long));
		cache_inv(arrayC__input_262144__7, 262144*sizeof(long));
		cache_inv(arrayC__input_524288__1, 262144*sizeof(long));
		cache_inv(arrayC__input_786432__6, 262144*sizeof(long));
		cache_inv(arrayC__input_1048576__3, 262144*sizeof(long));
		cache_inv(arrayC__input_1310720__2, 262144*sizeof(long));
		cache_inv(arrayC__input_1572864__3, 262144*sizeof(long));
		cache_inv(arrayC__input_1835008__3, 262144*sizeof(long));
		sum(512/*rowsA*/,512/*columnsB*/,8/*depthA*/,arrayC__input__7,output__arrayC_1572864__0); // sumResults_6
		cache_inv(arrayC__input__7, 2097152*sizeof(long));
		cache_wbInv(sumResults_6__implode_displa__0, 1048576*sizeof(char));
		sendStart(6); // Core3 > Core6: sumResults_6__implode_displa__0 
		sendEnd(); // Core3 > Core6: sumResults_6__implode_displa__0 
	}
}
