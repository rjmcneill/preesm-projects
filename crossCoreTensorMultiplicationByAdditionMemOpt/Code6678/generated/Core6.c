/** 
 * @file Core6.c
 * @generated by C6678CPrinter
 * @date Wed Apr 15 21:28:45 BST 2015
 */
 

#include "cores.h"
#include "utils.h"
#include "communication.h"
#include "fifo.h"
#include "cache.h"

// Core Global Declaration
extern char *const explode_generateTensors_arra__31;  // explode_generateTensors_arrayB > multiplyTensors_51 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__33;  // explode_generateTensors_arrayB > multiplyTensors_46 size:= 131072*char defined in Core0
extern char *const explode_generateTensors_arra__28;  // explode_generateTensors_arrayB > multiplyTensors_1 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_0_ou__1;  // explode_transposeTensor_0_output > multiplyTensors_1 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_5_ou__5;  // explode_transposeTensor_5_output > multiplyTensors_46 size:= 131072*char defined in Core0
extern char *const explode_transposeTensor_6_ou__2;  // explode_transposeTensor_6_output > multiplyTensors_51 size:= 131072*char defined in Core0
extern int *const output_32768__arrayA__1;  // explode_transposeTensor_0_output_output_32768 > multiplyTensors_1_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_32768__arrayB__0;  // explode_generateTensors_arrayB_arrayB_32768 > multiplyTensors_1_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_262144__3;  // multiplyTensors_1_arrayC > implode_sumResults_0_input_input_262144 size:= 262144*long defined in Core0
extern char *const multiplyTensors_1__implode_s__0;  // multiplyTensors_1 > implode_sumResults_0_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_40__implode___0;  // multiplyTensors_40 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_41__implode___0;  // multiplyTensors_41 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_42__implode___0;  // multiplyTensors_42 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_43__implode___0;  // multiplyTensors_43 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_44__implode___0;  // multiplyTensors_44 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern char *const multiplyTensors_45__implode___0;  // multiplyTensors_45 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern int *const output_196608__arrayA__6;  // explode_transposeTensor_5_output_output_196608 > multiplyTensors_46_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_1507328__arrayB__0;  // explode_generateTensors_arrayB_arrayB_1507328 > multiplyTensors_46_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_1572864__2;  // multiplyTensors_46_arrayC > implode_sumResults_5_input_input_1572864 size:= 262144*long defined in Core0
extern char *const multiplyTensors_47__implode___0;  // multiplyTensors_47 > implode_sumResults_5_input size:= 1048576*char defined in Core0
extern int *const output_98304__arrayA__0;  // explode_transposeTensor_6_output_output_98304 > multiplyTensors_51_arrayA size:= 32768*int defined in Core0
extern int *const arrayB_1671168__arrayB__0;  // explode_generateTensors_arrayB_arrayB_1671168 > multiplyTensors_51_arrayB size:= 32768*int defined in Core0
extern long *const arrayC__input_786432__4;  // multiplyTensors_51_arrayC > implode_sumResults_6_input_input_786432 size:= 262144*long defined in Core0
extern char *const multiplyTensors_51__implode___0;  // multiplyTensors_51 > implode_sumResults_6_input size:= 1048576*char defined in Core0
extern long *const arrayC__input_0__3;  // multiplyTensors_40_arrayC > implode_sumResults_5_input_input_0 size:= 262144*long defined in Core0
extern long *const arrayC__input_262144__6;  // multiplyTensors_41_arrayC > implode_sumResults_5_input_input_262144 size:= 262144*long defined in Core0
extern long *const arrayC__input_524288__2;  // multiplyTensors_42_arrayC > implode_sumResults_5_input_input_524288 size:= 262144*long defined in Core0
extern long *const arrayC__input_786432__3;  // multiplyTensors_43_arrayC > implode_sumResults_5_input_input_786432 size:= 262144*long defined in Core0
extern long *const arrayC__input_1048576__4;  // multiplyTensors_44_arrayC > implode_sumResults_5_input_input_1048576 size:= 262144*long defined in Core0
extern long *const arrayC__input_1310720__3;  // multiplyTensors_45_arrayC > implode_sumResults_5_input_input_1310720 size:= 262144*long defined in Core0
extern long *const arrayC__input_1835008__0;  // multiplyTensors_47_arrayC > implode_sumResults_5_input_input_1835008 size:= 262144*long defined in Core0
extern long *const arrayC__input__7;  // implode_sumResults_5_input_arrayC > sumResults_5_input size:= 2097152*long defined in Core0
extern long *const output__arrayC_1310720__0;  // sumResults_5_output > implode_displayTensor_arrayC_arrayC_1310720 size:= 262144*long defined in Core0
extern char *const sumResults_5__implode_displa__0;  // sumResults_5 > implode_displayTensor_arrayC size:= 1048576*char defined in Core0

// Core Global Definitions

void core6(void){
	// Initialisation(s)
	communicationInit();

	// Begin the execution loop 
	while(1){
		busy_barrier();
		receiveStart(); // Core0 > Core6: explode_generateTensors_arra__31 
		receiveEnd(0); // Core0 > Core6: explode_generateTensors_arra__31 
		cache_inv(explode_generateTensors_arra__31, 131072*sizeof(char));
		receiveStart(); // Core0 > Core6: explode_generateTensors_arra__33 
		receiveEnd(0); // Core0 > Core6: explode_generateTensors_arra__33 
		cache_inv(explode_generateTensors_arra__33, 131072*sizeof(char));
		receiveStart(); // Core0 > Core6: explode_generateTensors_arra__28 
		receiveEnd(0); // Core0 > Core6: explode_generateTensors_arra__28 
		cache_inv(explode_generateTensors_arra__28, 131072*sizeof(char));
		receiveStart(); // Core7 > Core6: explode_transposeTensor_0_ou__1 
		receiveEnd(7); // Core7 > Core6: explode_transposeTensor_0_ou__1 
		cache_inv(explode_transposeTensor_0_ou__1, 131072*sizeof(char));
		receiveStart(); // Core4 > Core6: explode_transposeTensor_5_ou__5 
		receiveEnd(4); // Core4 > Core6: explode_transposeTensor_5_ou__5 
		cache_inv(explode_transposeTensor_5_ou__5, 131072*sizeof(char));
		receiveStart(); // Core3 > Core6: explode_transposeTensor_6_ou__2 
		receiveEnd(3); // Core3 > Core6: explode_transposeTensor_6_ou__2 
		cache_inv(explode_transposeTensor_6_ou__2, 131072*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_32768__arrayA__1,arrayB_32768__arrayB__0,arrayC__input_262144__3); // multiplyTensors_1
		cache_inv(output_32768__arrayA__1, 32768*sizeof(int));
		cache_inv(arrayB_32768__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_1__implode_s__0, 1048576*sizeof(char));
		sendStart(7); // Core6 > Core7: multiplyTensors_1__implode_s__0 
		sendEnd(); // Core6 > Core7: multiplyTensors_1__implode_s__0 
		receiveStart(); // Core0 > Core6: multiplyTensors_40__implode___0 
		receiveEnd(0); // Core0 > Core6: multiplyTensors_40__implode___0 
		cache_inv(multiplyTensors_40__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core4 > Core6: multiplyTensors_41__implode___0 
		receiveEnd(4); // Core4 > Core6: multiplyTensors_41__implode___0 
		cache_inv(multiplyTensors_41__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core4 > Core6: multiplyTensors_42__implode___0 
		receiveEnd(4); // Core4 > Core6: multiplyTensors_42__implode___0 
		cache_inv(multiplyTensors_42__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core5 > Core6: multiplyTensors_43__implode___0 
		receiveEnd(5); // Core5 > Core6: multiplyTensors_43__implode___0 
		cache_inv(multiplyTensors_43__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core1 > Core6: multiplyTensors_44__implode___0 
		receiveEnd(1); // Core1 > Core6: multiplyTensors_44__implode___0 
		cache_inv(multiplyTensors_44__implode___0, 1048576*sizeof(char));
		receiveStart(); // Core2 > Core6: multiplyTensors_45__implode___0 
		receiveEnd(2); // Core2 > Core6: multiplyTensors_45__implode___0 
		cache_inv(multiplyTensors_45__implode___0, 1048576*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_196608__arrayA__6,arrayB_1507328__arrayB__0,arrayC__input_1572864__2); // multiplyTensors_46
		cache_inv(output_196608__arrayA__6, 32768*sizeof(int));
		cache_inv(arrayB_1507328__arrayB__0, 32768*sizeof(int));
		receiveStart(); // Core0 > Core6: multiplyTensors_47__implode___0 
		receiveEnd(0); // Core0 > Core6: multiplyTensors_47__implode___0 
		cache_inv(multiplyTensors_47__implode___0, 1048576*sizeof(char));
		multiply(512/*rowsA*/,512/*columnsA*/,8/*depthA*/,512/*rowsB*/,512/*columnsB*/,8/*depthB*/,output_98304__arrayA__0,arrayB_1671168__arrayB__0,arrayC__input_786432__4); // multiplyTensors_51
		cache_inv(output_98304__arrayA__0, 32768*sizeof(int));
		cache_inv(arrayB_1671168__arrayB__0, 32768*sizeof(int));
		cache_wbInv(multiplyTensors_51__implode___0, 1048576*sizeof(char));
		sendStart(3); // Core6 > Core3: multiplyTensors_51__implode___0 
		sendEnd(); // Core6 > Core3: multiplyTensors_51__implode___0 
		// Join implode_sumResults_5_input
		{
			cache_wb(arrayC__input_0__3, 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+262144),(void*)( arrayC__input_262144__6+0), 262144*sizeof(long));
			cache_wb(arrayC__input_524288__2, 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+786432),(void*)( arrayC__input_786432__3+0), 262144*sizeof(long));
			cache_wb(arrayC__input_1048576__4, 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1310720),(void*)( arrayC__input_1310720__3+0), 262144*sizeof(long));
			cache_wb(arrayC__input_1572864__2, 262144*sizeof(long));
			memcpy((void*)(arrayC__input__7+1835008),(void*)( arrayC__input_1835008__0+0), 262144*sizeof(long));
		}
		cache_wb(((char*)arrayC__input_0__3) + 0, 1048576);
		cache_inv(arrayC__input_0__3, 262144*sizeof(long));
		cache_inv(arrayC__input_262144__6, 262144*sizeof(long));
		cache_wb(((char*)arrayC__input_524288__2) + 0, 1048576);
		cache_inv(arrayC__input_524288__2, 262144*sizeof(long));
		cache_inv(arrayC__input_786432__3, 262144*sizeof(long));
		cache_wb(((char*)arrayC__input_1048576__4) + 0, 1048576);
		cache_inv(arrayC__input_1048576__4, 262144*sizeof(long));
		cache_inv(arrayC__input_1310720__3, 262144*sizeof(long));
		cache_wb(((char*)arrayC__input_1572864__2) + 0, 1048576);
		cache_inv(arrayC__input_1572864__2, 262144*sizeof(long));
		cache_inv(arrayC__input_1835008__0, 262144*sizeof(long));
		sum(512/*rowsA*/,512/*columnsB*/,8/*depthA*/,arrayC__input__7,output__arrayC_1310720__0); // sumResults_5
		cache_inv(arrayC__input__7, 2097152*sizeof(long));
		cache_wbInv(sumResults_5__implode_displa__0, 1048576*sizeof(char));
		sendStart(1); // Core6 > Core1: sumResults_5__implode_displa__0 
		sendEnd(); // Core6 > Core1: sumResults_5__implode_displa__0 
	}
}
